---
import CardPost from "@components/blog/CardPost.astro";
import Tags from "@components/blog/Tags.astro";
import CTA from "@components/ui/CTA.astro";
import type { Locale } from "@i18n/utils";
import type { CollectionEntry } from "astro:content";

interface Props {
  posts: CollectionEntry<"posts">[];
  tags: string[];
  currentLang: Locale;
  labelAll: string;
}

const { pathname } = Astro.url;
const { posts, tags, currentLang, labelAll } = Astro.props;
---

<main
  class="flex w-full flex-col items-center gap-20 px-4 pt-24 pb-20 md:gap-32 md:px-8 md:pt-40 md:pb-32 xl:gap-52 xl:pb-52"
>
  <section class="space-y-10">
    <div class="overflow-hidden">
      <h1
        class:list={[
          "text-center text-7xl leading-[1.2] font-medium uppercase [animation-delay:300ms] sm:text-9xl lg:text-[10rem]",
          pathname === `/${currentLang}/blog/` && "animate-slideUp opacity-0",
        ]}
      >
        blog
      </h1>
    </div>
    <Tags
      currentLang={currentLang}
      tags={tags}
      currentPathname={pathname}
      labelAll={labelAll}
    />
  </section>
  <section
    class="grid w-full max-w-(--breakpoint-2xl) items-center justify-center gap-12 overflow-hidden md:grid-cols-2 lg:grid-cols-3"
  >
    {posts.map((post) => <CardPost post={post} />)}
  </section>
  <CTA currentLang={currentLang} />
</main>
