---
import type es from "@i18n/ui/es";
import Data from "./Data.astro";
import ButtonUnderline from "@components/ui/ButtonUnderline.astro";
import type { Locale } from "@i18n/utils";

interface Props {
  labels: typeof es.workDetail;
  information: {
    name: string;
    services: string[];
    techs: string[];
    date: Date;
    link: string;
    repository?: string;
  };
  currentLocale: Locale;
}

const { labels, information, currentLocale } = Astro.props;
const { name, services, techs, date, link, repository } = information;
const formatter = new Intl.DateTimeFormat(`${currentLocale}-US`, {
  dateStyle: "medium",
});
---

<div
  class="top-32 flex h-fit w-full shrink-0 flex-col items-center justify-center gap-7 rounded-sm border border-neutral-800/80 bg-neutral-900/15 p-4 lg:sticky lg:w-1/3"
>
  <Data label={labels.services}>
    <span class="w-full text-end text-sm/relaxed font-medium capitalize"
      >{services.join(", ")}</span
    >
  </Data>
  <Data label={labels.techs}>
    <span class="w-full text-end text-sm/relaxed font-medium capitalize"
      >{techs.join(", ")}</span
    >
  </Data>
  <Data label={labels.date}>
    <time
      datetime={date.toISOString()}
      class="w-full text-end text-sm/relaxed font-medium capitalize"
      >{formatter.format(date)}
    </time>
  </Data>
  <Data label={labels.link}>
    <ButtonUnderline
      to={link}
      external
      styles="text-xs/tight font-semibold uppercase"
    >
      {name}
    </ButtonUnderline>
  </Data>
  {
    repository && (
      <Data label={labels.repository}>
        <ButtonUnderline
          to={repository}
          external
          styles="text-xs/tight font-semibold uppercase"
        >
          Github
        </ButtonUnderline>
      </Data>
    )
  }
</div>
